# üîÑ –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –∑ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è Telegram-–±–æ—Ç–∞ —É production-—Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ

–¶–µ–π –¥–æ–∫—É–º–µ–Ω—Ç –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è DevOps/Release Engineer —ñ –æ–ø–∏—Å—É—î –±–µ–∑–ø–µ—á–Ω—É –ø—Ä–æ—Ü–µ–¥—É—Ä—É –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç–∞ –≤ —Ä–æ–±–æ—á–æ–º—É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ.

---

## 1. –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è

### 1.1 –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–æ–≤–æ—ó –≤–µ—Ä—Å—ñ—ó
- –û–∑–Ω–∞–π–æ–º–∏—Ç–∏—Å—è –∑ **changelog** (—è–∫—â–æ —î).
- –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —á–∏ –∑–º—ñ–Ω–∏ –ø–æ—Ç—Ä–µ–±—É—é—Ç—å:
  - –ú—ñ–≥—Ä–∞—Ü—ñ—ó –±–∞–∑–∏ –¥–∞–Ω–∏—Ö(–ü–æ–∫–∏ –Ω–µ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ)
  - –ó–º—ñ–Ω–∏ —Ç–æ–∫–µ–Ω—ñ–≤, –¥–æ—Å—Ç—É–ø—ñ–≤ –∞–±–æ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π

### 1.2 –ü–ª–∞–Ω—É–≤–∞–Ω–Ω—è –≤—ñ–∫–Ω–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è
- –£—Ç–æ—á–Ω–∏—Ç–∏ —á–∞—Å –º—ñ–Ω—ñ–º–∞–ª—å–Ω–æ–≥–æ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è (–æ–ø—Ç–∏–º–∞–ª—å–Ω–∏–π –¥–ª—è –ø—Ä–æ—Å—Ç–æ—é)
- –ü–æ–≤—ñ–¥–æ–º–∏—Ç–∏ –∫–æ–º–∞–Ω–¥—É –ø—ñ–¥—Ç—Ä–∏–º–∫–∏

---

## 2. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ä–µ–∑–µ—Ä–≤–Ω–∏—Ö –∫–æ–ø—ñ–π
###
```bash
  cp -r ~/tg-container-bot ~/tg-container-bot-backup-$(date +%Y%m%d%H%M)
```
### –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è .env:
```bash
cp .env .env.backup
```
---
## 3.–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—É–º—ñ—Å–Ω–æ—Å—Ç—ñ
Python-–≤–µ—Ä—Å—ñ—è: python3.10 --version
pip-–∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ:
```bash
pip install -r requirements.txt --dry-run
```

–°—Ç–æ—Ä–æ–Ω–Ω—ñ API: –ü–µ—Ä–µ–∫–æ–Ω–∞—Ç–∏—Å—è, —â–æ –∫–ª—é—á—ñ —Ç–∞ –∑–æ–≤–Ω—ñ—à–Ω—ñ —Å–µ—Ä–≤—ñ—Å–∏ –ø—ñ–¥—Ç—Ä–∏–º—É—é—Ç—å—Å—è.

---
## 4. –ü–ª–∞–Ω—É–≤–∞–Ω–Ω—è –ø—Ä–æ—Å—Ç–æ—é
- –û–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–∑–≤–∏—á–∞–π —Ç—Ä–∏–≤–∞—î –¥–æ 5 —Ö–≤–∏–ª–∏–Ω.

- –Ø–∫—â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è systemd, –±–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è.

---

## 5. –ü—Ä–æ—Ü–µ—Å –æ–Ω–æ–≤–ª–µ–Ω–Ω—è

### 5.1 –ó—É–ø–∏–Ω–∫–∞ —Å–ª—É–∂–±
```bash
sudo systemctl stop tg-bot
```
### 5.2 –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–æ–≤–æ—ó –≤–µ—Ä—Å—ñ—ó
```bash
cd ~/tg-container-bot
git pull origin main
```
5.3 –û–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
```bash
source venv/bin/activate
pip install -r requirements.txt
```
`5.4 –ú—ñ–≥—Ä–∞—Ü—ñ—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ)
–ù–∞—Ä–∞–∑—ñ –±–∞–∑–∞ –¥–∞–Ω–∏—Ö –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è. –Ø–∫—â–æ –∑ º—è–≤–∏—Ç—å—Å—è ‚Äî –¥–æ–¥–∞—Ç–∏ —Å–∫—Ä–∏–ø—Ç–∏ –º—ñ–≥—Ä–∞—Ü—ñ—ó —Ç—É—Ç.`

### 5.5 –û–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ .env

–Ø–∫—â–æ –Ω–æ–≤—ñ –∑–º—ñ–Ω–Ω—ñ ‚Äî –¥–æ–¥–∞—Ç–∏ –¥–æ .env –∑ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–º–∏ –∑–Ω–∞—á–µ–Ω–Ω—è–º–∏

## 6. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—ñ—Å–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è
```bash
sudo systemctl start tg-bot
sudo systemctl status tg-bot
journalctl -u tg-bot -f
```
–í Telegram –Ω–∞–¥—ñ—Å–ª–∞—Ç–∏ /start —Ç–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—å.

–ü—Ä–æ–π—Ç–∏ –æ—Å–Ω–æ–≤–Ω—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó: –≤–∏–±—ñ—Ä –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, FAQ, –∫–æ–Ω—Ç–∞–∫—Ç —Ç–æ—â–æ

## 7. Rollback (–≤—ñ–¥–∫–∞—Ç)
### –Ø–∫—â–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –Ω–µ –≤–¥–∞–ª–æ—Å—è:
–ó—É–ø–∏–Ω–∏—Ç–∏ —Å–µ—Ä–≤—ñ—Å:
```bash
sudo systemctl stop tg-bot
```
–í—ñ–¥–Ω–æ–≤–∏—Ç–∏ —Ä–µ–∑–µ—Ä–≤–Ω—É –∫–æ–ø—ñ—é –∫–æ–¥—É:
```bash
rm -rf ~/tg-container-bot
cp -r ~/tg-container-bot-backup-<timestamp> ~/tg-container-bot
```
–í—ñ–¥–Ω–æ–≤–∏—Ç–∏ .env:

```bash
cp .env.backup .env
```
–ó–∞–ø—É—Å—Ç–∏—Ç–∏ —Å–µ—Ä–≤—ñ—Å:
```bash
sudo systemctl start tg-bot
```
